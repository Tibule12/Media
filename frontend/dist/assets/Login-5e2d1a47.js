import{_ as m,m as c,o as l,c as p,a as t,e as g,f as d,v as u,t as f,g as y}from"./index-b19461a9.js";const h={data(){return{email:"",password:"",error:null}},computed:{formattedError(){if(!this.error)return"";if(typeof this.error=="string")return this.error;try{return JSON.stringify(this.error)}catch{return String(this.error)}}},watch:{error(e){console.log("Error value changed:",e)}},methods:{...c(["login"]),async loginUser(){this.error=null;try{await this.login({email:this.email.trim(),password:this.password}),this.$router.push("/")}catch(e){if(e.response&&e.response.data){console.log("Login error response:",e.response.data);const r=e.response.data;this.error=Object.entries(r).map(function([a,n]){return a+": "+(Array.isArray(n)?n.join(", "):n)}).join("; ")}else this.error="Login failed. Please try again."}}}},w={class:"auth-container"},v={class:"auth-content"},b={style:{"margin-top":"20px",display:"flex","justify-content":"center",gap:"15px"}},_={key:0,class:"error-message"};function x(e,r,a,n,s,i){return l(),p("div",w,[t("div",v,[r[6]||(r[6]=t("h1",null,"Login",-1)),t("form",{onSubmit:r[2]||(r[2]=g((...o)=>i.loginUser&&i.loginUser(...o),["prevent"]))},[d(t("input",{"onUpdate:modelValue":r[0]||(r[0]=o=>s.email=o),type:"email",placeholder:"Email",required:"",autocomplete:"email"},null,512),[[u,s.email]]),d(t("input",{"onUpdate:modelValue":r[1]||(r[1]=o=>s.password=o),type:"password",placeholder:"Password",required:"",autocomplete:"current-password"},null,512),[[u,s.password]]),r[5]||(r[5]=t("button",{type:"submit",class:"btn btn-primary"},"Login",-1))],32),t("div",b,[t("button",{class:"btn btn-secondary",onClick:r[3]||(r[3]=o=>e.$router.push("/register"))},"Signup"),t("button",{class:"btn btn-secondary",onClick:r[4]||(r[4]=o=>e.$router.push("/password-reset"))},"Forgot Password")]),s.error?(l(),p("p",_,f(i.formattedError),1)):y("",!0)])])}const k=m(h,[["render",x],["__scopeId","data-v-cef86821"]]);export{k as default};
