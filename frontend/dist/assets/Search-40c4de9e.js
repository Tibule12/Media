import{_ as c,h,o as s,c as n,f as u,v as _,a as d,F as l,j as y,g as p,t as r}from"./index-b19461a9.js";const m={data(){return{query:"",results:[]}},methods:{async onInput(){if(this.query.length<3){this.results=[];return}try{const t=await h.get("/api/search/",{params:{q:this.query}});this.results=t.data}catch(t){console.error("Search failed",t)}},selectResult(t){t.type==="user"?this.$router.push(`/profile/${t.username}`):t.type==="post"?this.$router.push(`/post/${t.id}`):t.type==="hashtag"?this.$router.push(`/search?tag=${t.tag}`):t.type==="mention"&&this.$router.push(`/profile/${t.username}`)}}},f={class:"search"},g={key:0,class:"results-list"},k=["onClick"],v={key:0},x={key:1},b={key:2},q={key:3};function $(t,o,I,S,a,i){return s(),n("div",f,[u(d("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>a.query=e),onInput:o[1]||(o[1]=(...e)=>i.onInput&&i.onInput(...e)),placeholder:"Search users, posts, hashtags, mentions..."},null,544),[[_,a.query]]),a.results.length>0?(s(),n("ul",g,[(s(!0),n(l,null,y(a.results,e=>(s(),n("li",{key:e.type+"-"+e.id,onClick:B=>i.selectResult(e)},[e.type==="user"?(s(),n("span",v,"User: "+r(e.username),1)):e.type==="post"?(s(),n("span",x,"Post: "+r(e.title),1)):e.type==="hashtag"?(s(),n("span",b,"Hashtag: "+r(e.tag),1)):e.type==="mention"?(s(),n("span",q,"Mention: "+r(e.username),1)):p("",!0)],8,k))),128))])):p("",!0)])}const V=c(m,[["render",$],["__scopeId","data-v-cb7bbd12"]]);export{V as default};
