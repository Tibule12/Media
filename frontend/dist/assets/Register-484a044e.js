import{_ as d,m as g,h as f,o as p,c as m,a as s,e as h,f as n,v as i,t as y,g as c}from"./index-b19461a9.js";const _={data(){return{username:"",email:"",password:"",first_name:"",last_name:"",error:null}},computed:{formattedError(){if(!this.error)return"";if(typeof this.error=="string")return this.error;try{return JSON.stringify(this.error)}catch{return String(this.error)}}},watch:{error(o){console.log("Error value changed:",o)}},methods:{...g(["login"]),async registerUser(){this.error=null;try{await f.post("/api/auth/register/",{username:this.username,first_name:this.first_name,last_name:this.last_name,email:this.email,password:this.password}),this.$router.push("/login")}catch(o){if(o.response&&o.response.data){console.log("Registration error response:",o.response.data);const e=o.response.data;this.error=Object.entries(e).map(function([u,a]){return u+": "+(Array.isArray(a)?a.join(", "):a)}).join("; ")}else this.error="Registration failed. Please try again."}},goToLogin(){this.$router.push("/login")}}},v={class:"auth-container"},w={class:"auth-content"},b={key:0,class:"error-message"};function x(o,e,u,a,t,l){return p(),m("div",v,[s("div",w,[e[8]||(e[8]=s("h1",null,"Register",-1)),s("form",{onSubmit:e[5]||(e[5]=h((...r)=>l.registerUser&&l.registerUser(...r),["prevent"]))},[n(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),type:"text",placeholder:"Username",required:""},null,512),[[i,t.username]]),n(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.email=r),type:"email",placeholder:"Email",required:""},null,512),[[i,t.email]]),n(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.password=r),type:"password",placeholder:"Password",required:""},null,512),[[i,t.password]]),n(s("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.first_name=r),type:"text",placeholder:"First Name",required:""},null,512),[[i,t.first_name]]),n(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.last_name=r),type:"text",placeholder:"Last Name",required:""},null,512),[[i,t.last_name]]),e[7]||(e[7]=s("button",{type:"submit",class:"btn btn-primary"},"Register",-1))],32),s("button",{class:"btn btn-secondary",onClick:e[6]||(e[6]=r=>o.$router.push("/login")),style:{"margin-top":"10px"}},"Login"),t.error?(p(),m("p",b,y(l.formattedError),1)):c("",!0)])])}const V=d(_,[["render",x],["__scopeId","data-v-57c7cd0a"]]);export{V as default};
